(this["webpackJsonpmario-mushroom"]=this["webpackJsonpmario-mushroom"]||[]).push([[0],{30:function(t,e,i){},31:function(t,e,i){},32:function(t,e,i){},37:function(t,e,i){},40:function(t,e,i){"use strict";i.r(e);var s=i(0),n=i(17),o=i.n(n),r=(i(30),i(9)),a=(i(31),i(32),i(41)),c=i(42),h=i(18),d=i(44),u=i(19),m=i(21),l=i(20),j=i(2);var v=function(t){var e=Object(s.useState)(t.gridDimensions.height),i=Object(r.a)(e,2),n=i[0],o=i[1],v=Object(s.useState)(t.gridDimensions.width),g=Object(r.a)(v,2),x=g[0],b=g[1];function f(){t.setGridDimensions({height:n,width:x})}return Object(j.jsx)(a.a,{fluid:!0,children:Object(j.jsx)(c.a,{children:Object(j.jsx)(h.a,{children:Object(j.jsxs)(d.a,{inline:!0,children:[Object(j.jsxs)(u.a,{style:{margin:"1em"},children:[Object(j.jsxs)(m.a,{children:["Width (",x,")"]}),Object(j.jsx)(l.a,{type:"range",min:4,max:16,placeholder:"width",onChange:function(t){b(t.target.value),f()}})]}),Object(j.jsxs)(u.a,{style:{margin:"1em"},children:[Object(j.jsxs)(m.a,{children:["Height (",n,")"]}),Object(j.jsx)(l.a,{type:"range",min:4,max:16,placeholder:"height",onChange:function(t){o(t.target.value),f()}})]})]})})})})},g=i(15),x=i(22),b=i(23),f=i(7),O=i(25),p=i(24),y=(i(37),i(14)),w=i.n(y),M=i(43);var S=function(t){var e=t.moves;return Object(j.jsx)(M.a,{variant:"success",children:e>0&&e+" moves"})},D=function(t){Object(O.a)(i,t);var e=Object(p.a)(i);function i(t){var s;return Object(x.a)(this,i),(s=e.call(this,t)).state={height:s.props.gridDimensions.height,width:s.props.gridDimensions.width,mushrooms:[],direction:null,timer:null,mario:{next:{x:0,y:0},prev:{x:0,y:0}},moves:0},s.moveMario=s.moveMario.bind(Object(f.a)(s)),s.includes=s.includes.bind(Object(f.a)(s)),s.moveMario=s.moveMario.bind(Object(f.a)(s)),s.shouldBounce=s.shouldBounce.bind(Object(f.a)(s)),s.changeDirection=s.changeDirection.bind(Object(f.a)(s)),s.nextMarioLocation=s.nextMarioLocation.bind(Object(f.a)(s)),s.createRandomMushrooms=s.createRandomMushrooms.bind(Object(f.a)(s)),w.a.config({left:function(){console.log("going left"),s.setState({direction:"l"})},right:function(){console.log("going right"),s.setState({direction:"r"})},up:function(){console.log("going up"),s.setState({direction:"u"})},down:function(){console.log("going down"),s.setState({direction:"d"})}}),s}return Object(b.a)(i,[{key:"componentDidMount",value:function(){var t=this;this.createRandomMushrooms();var e=setInterval((function(){t.moveMario()}),100);this.setState({timer:e})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"createRandomMushrooms",value:function(){for(var t=[],e=0;e<Math.max(this.state.height,this.state.width);e++){var i=Math.floor(Math.random()*this.state.width),s=Math.floor(Math.random()*this.state.height);t.push({x:i,y:s})}this.setState({mushrooms:t})}},{key:"moveMario",value:function(){if(0===this.state.mushrooms.length&&clearInterval(this.state.timer),this.state.direction){var t=!1;this.shouldBounce(this.state.mario.prev.x,this.state.mario.prev.y)&&(console.log("bouncing mario"),this.changeDirection(),t=!0),console.log("move mario");var e=this.nextMarioLocation();t?this.setState({mario:{next:e,prev:this.state.mario.prev}}):this.setState({mario:{next:e,prev:this.state.mario.next}});var i=this.state.mushrooms.filter((function(t){return!(t.x===e.x&&t.y===e.y)}));this.setState({mushrooms:i,moves:this.state.moves+1}),this.forceUpdate()}}},{key:"nextMarioLocation",value:function(){return console.log(this.state.direction),"l"===this.state.direction?{x:this.state.mario.prev.x-1,y:this.state.mario.next.y}:"r"===this.state.direction?{x:this.state.mario.prev.x+1,y:this.state.mario.next.y}:"u"===this.state.direction?{x:this.state.mario.next.x,y:this.state.mario.prev.y-1}:"d"===this.state.direction?{x:this.state.mario.next.x,y:this.state.mario.prev.y+1}:{x:this.state.mario.prev.x,y:this.state.mario.prev.y}}},{key:"shouldBounce",value:function(t,e){return 0===t&&0===e&&("u"===this.state.direction||"l"===this.state.direction)||(t===this.state.width&&e===this.state.height&&("d"===this.state.direction||"r"===this.state.direction)||(0===t&&"l"===this.state.direction||(t===this.state.width-1&&"r"===this.state.direction||(0===e&&"u"===this.state.direction||e===this.state.height-1&&"d"===this.state.direction))))}},{key:"changeDirection",value:function(){console.log("from ".concat(this.state.direction)),"l"===this.state.direction?this.setState({direction:"r"}):"r"===this.state.direction?this.setState({direction:"l"}):"u"===this.state.direction?this.setState({direction:"d"}):this.setState({direction:"u"}),console.log("to ".concat(this.state.direction))}},{key:"setupGrid",value:function(){var t=this,e=new Array(this.state.height).fill(0).map((function(e){return new Array(t.state.width).fill(0)}));this.setState({grid:e})}},{key:"includes",value:function(t,e){if(this.state.mushrooms[0])for(var i=0;i<this.state.width;i++)if(this.state.mushrooms[i]&&this.state.mushrooms[i].x===t&&this.state.mushrooms[i].y===e)return!0;return!1}},{key:"render",value:function(){var t=this;return Object(j.jsx)(a.a,{fluid:!0,children:Object(j.jsx)(c.a,{children:Object(j.jsx)(h.a,{children:Object(j.jsxs)("div",Object(g.a)(Object(g.a)({id:"grid"},w.a.events),{},{tabIndex:"1",children:[function(){for(var e=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"grid-item";return Object(j.jsx)("div",{className:i+(e?" hasMushroom":"")},t)},i=function(t){return Object(j.jsx)("br",{},t)},s=[],n=0;n<t.state.height;n++){s[n]=[];for(var o=0;o<t.state.width;o++){var r=n===t.state.mario.next.y&&o===t.state.mario.next.x,a="row-".concat(n,"-col-").concat(o,"-grid");if(r)s[n].push(e(a,!1,"grid-item mario"));else{var c=t.includes(o,n)&&!r;s[n].push(e(a,c))}}s[n].push(i("row-".concat(n,"-libr")))}return s}(),Object(j.jsx)(S,{moves:this.state.moves})]}))})})})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return{height:t.gridDimensions.height,width:t.gridDimensions.width,mushroom:t.mushrooms}}}]),i}(s.Component);i(39);var k=function(){var t=Object(s.useState)({height:10,width:10}),e=Object(r.a)(t,2),i=e[0],n=e[1];return Object(j.jsxs)(a.a,{fluid:!0,className:"App",children:[Object(j.jsx)(c.a,{children:Object(j.jsx)(h.a,{children:Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)("h1",{children:"Mario?"}),Object(j.jsx)("h6",{children:"It goes brrr..."})]})})}),Object(j.jsx)(c.a,{children:Object(j.jsx)(h.a,{children:Object(j.jsx)(v,{setGridDimensions:n,gridDimensions:i})})}),Object(j.jsx)(c.a,{children:Object(j.jsx)(h.a,{children:Object(j.jsx)(D,{gridDimensions:i})})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(j.jsx)(k,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.e253324d.chunk.js.map